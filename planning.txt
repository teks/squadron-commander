### i11
in retrospect this iteration is too big and mixes too many disjoint concerns
[v] use `ls` to show a ship when it needs orders:
    24h> mv ^0 28 56
    1 units need orders:
    <trek.trek.FriendlyShip alice Point(x=29.740456597169644, y=10.44552372684389)>
[v] combat enrichment
    [v] morale:
        [v] set initial value: self.morale = 0.0 # neutral
        [v] depletion & restoration
        [v] effect on combat
        [v] write some tests
        [v] do playtest; fallout:
            [v] in `ls`, CV can have too many digits: CV=0.9875
    [v] system damage
        [v] when there's hull damage, apply systems damage
            [v] Each system is subjected to a separate roll:
                * Chance of damage grows with hull damage fraction.
                * Severity of damage also grows with hull damage fraction.
                Each system is tracked separately as a fraction (1.0 = undamaged).
                The fraction tells how much performance is degrading.
        [v] List of systems to damage and the effects of damage:
            [v] Shields: Damage reduces maximum
            [v] Warp Drive: Reduced speed
            [v] Tactical Systems: Reduced combat value
        [v] do playtests
        [v] ship's velocity can't be shown; no way to check on drive damage
        [x] write some tests
[v] `show <unit>...` to show system damage etc
    see `doc/object-detail-view.md`


Roadmap
=======
Complete Beta
(ux improvements as-needed, and):
[ ] remaining game engine work
    [ ] retreat should alter behavior of retreating enemies;
        they should actually change their destination for a bit
    [ ] ship repairs
[ ] make some ship classes and experiment with combat outcomes
    for now symmetrically:
    [ ] go over numerical balance of ship values; see number-mull
    [ ] corvette (enemy: crow) <-- enemies are named after birds I guess
    [ ] cruiser (enemy: vulture)
[ ] playable scenario:
    [ ] enemies appear to the left, retreat to the left?
    [ ] new ones spawn periodically
[ ] additional ux as issues reveal themselves
    [ ] `ls a b c d` isn't an error
    [ ] `run 3` isn't an error but does NOT wait 3h and pause
    [ ] `show` defaulting to showing all units might be nice
    [ ] when there's a `:N` showing on a map, display its contents someplace
        every time there's a combat those `:N` displays show up, and
        the player needs good info on what `:N`; means
    [ ] fix this display error when 10 or more units are in the same ux cell:
           . . . . . . . . . . . . . . . . .
        32 . . . . . . . . :10. . . . . . . .
           . . . . . . . . . . . . . . . . .
    [ ] in the COMBAT REPORT, displayed hull damage can sometimes exceed remaining
        hull, it'd surprise the user --vvv
        LOST     !1 lowragh     1.0    1.3
        LOST     !2 ukliss      1.0    1.3
    [ ] COMBAT REPORT and `ls` don't show lists of ships in the same order, they should
    [ ] mild typing issue: SpaceColonies have no shield generators, but
        ArtificialObject mandates they have one. This can result in fictional
        damage to a nonexistent system:
        @0 Harmony    (32.00, 32.00) CV=0.99 [## ]
            Morale: -0.0
            shields: 83%
    [ ] `show <unit>` should describe effects of system damage explicitly:
        !2 ukliss     (32.00, 32.00) W=1.00 CV=0.84 [###]     ATTACKING @1 New Ceylon (32.00, 32.00)
            Morale:         -0.3
            Combat Value:    0.84   Tactical systems damaged, efficiency 90%.
            Shields:         0.00   Shields operating normally.
            Max Safe Speed:  1.00   FTL Drive operating normally.


Backlog
=======

### ux & i9 playtesting feedback
[ ] refine ship's combat value further? (shields down, sys dmg?)
[ ] interception points:
    [ ] show interception point in `ls` when ATTACK
    [ ]? need a "show me the interception point" cmd
    [ ] show interception point when attack cmd is issued
[ ] add `<duration>` arg to `run` cmd
[ ] Message for interception
[ ] message for tick passage, maybe every 5 or 10? make it configurable
[ ] on each pause, give a report?
[ ] showing turn or tick number more often eg:
    [ ] show tick in prompt? eg `(+14h) ` or maybe `[0300] ` for 3 AM
    [ ] most messages should be prefixed with tick (in hours or walltime) eg:
        +13h ARRIVAL: ^2 baker has arrived at Point(x=32.0, y=32.0).
[ ] need a "tell me about the local area" command that
    lists everything in the area and gives status
    maybe a 'sitrep' cmd issues to a ship?
    this can provide info when units are stacked up eg `:3`
[ ] how much more time am I going to spend on a console game before switching
    to pygame or something?


### ops: repair & docking
[ ] raise morale to 0.0 by docking at a base and staying 24 hours, +0.1 for each 24h after

### misc
[ ] help facility?
[ ] `wait <unit> <duration>`  <-- add duration?

### low priority
[ ] auto-retreat button: order that toggles `ship.evasive` & retreat_check checks it
[ ] ships should be able to exceed cruising speed at risk of drive damage
    [ ] maximum speed is . . . ?
    [ ] command for setting a ship's speed . . . ?
        feels like a captain concern not a squad commander concern
[ ] mull a 'maneuverability' value for ships
[ ] look into non-flat probabilities:
    https://docs.python.org/3/library/random.html#real-valued-distributions
[ ] raiders sometimes carry off hostages when they raid settlements?
    have to send ships to get them back? that implies boarding ops
[ ] attempt to use dataclasses for SpaceborneObject & children
[ ] fancier protection of bases:
    one can already protect bases; that's what interception is for, but maybe
    something more fancy:
    [ ] option 1: retreat results in forced movement (away from a base if present)
        [ ] retreat moves using EMERGENCY SPEED
        [ ] Each ship's emergency warp value is used for this.
        [ ] Ships from a side tend to retreat in the same direction.
    [ ] option 2: if battle includes friendlies and a base, sometimes/somehow exclude the base:
        [ ] if friendlies are doing Order.PROTECT(base)?
            [ ] Sometimes one WANTS the base to engage; that suggests an Order.
            [ ] implement algorithm:
                for base in local bases:
                    if (any present friendly vessel is PROTECTing a base
                            and there are enough friendlies present vs. too many foes (ratio tbd):
                        exclude(base)
    [ ] option n: As 2 but TBD
        [ ] if friendlies were there during the previous tick (so they have time to range out and engage the foes?)
        [ ] if len(friendly vessels) >= len(enemies), exclude base
